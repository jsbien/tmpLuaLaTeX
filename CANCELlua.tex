%\pdfgentounicode=1 % Ensure proper embedding
\documentclass{article}
\usepackage{fontspec} 

% NishikiTeki-MVxaJ font:
% license: Freeware
% link: https://www.fontspace.com/nishiki-teki-font-f86893
\newfontfamily\unifont{NishikiTeki-MVxaJ.ttf}[Renderer=Base]
\newfontfamily\emojifont[Renderer=Harfbuzz,SizeFeatures={Size=20}]{TwemojiMozilla.ttf}

% Karl Berry
% Production notes
% TUGboat volume 44, number 1 (2023), page 115
% https://tug.org/TUGboat/tb44-1/tb136prod.pdf
% DOI (this page): 10.47397/tb/44-1/tb136prod
% a bit of Lua code which written by Henri Menke
% (thank you Henri, and thank you search engines), which emulates many
% \XeTeX\ primitives in Lua\TeX\
% (\url{https://gist.github.com/hmenke/6e8ff7c90a5e5df3c4895f60059a2ef7}):

  \def\XeTeXglyph{%
    \directlua{
      local index = token.scan_int()
      local tfmdata = font.getfont(font.current())
      if tfmdata.format \string ~= "opentype"
         and tfmdata.format \string ~= "truetype" then
          tex.error([[Cannot use \string\XeTeXglyph]] .. [[ with ]] ..
                    tfmdata.name .. tfmdata.format \string ..
                    [[; not opentype or truetype]])
      end
      for slot, char in pairs(tfmdata.characters) do
          if char.index == index then
              tex.print(utf.char(char.unicode))
              return
          end
      end
      if not found then
         texio.write_nl("Glyph " .. index .. " not found in " .. tfmdata.name)
      end
    }}%

 
% \ifx\undefined\XeTeXglyph
%   \def\XeTeXglyph{%
%     \directlua{
%       local index = token.scan_int()
%       local tfmdata = font.getfont(font.current())
%       if tfmdata.format \string ~= "opentype"
%          and tfmdata.format \string ~= "truetype" then
%           tex.error([[Cannot use \string\XeTeXglyph]] .. [[ with ]] ..
%                     tfmdata.name .. tfmdata.format \string ..
%                     [[; not opentype or truetype]])
%       end
%       for slot, char in pairs(tfmdata.characters) do
%           if char.index == index then
%               tex.print(utf.char(char.unicode))
%               return
%           end
%       end
%     }}%
%   %
% \newfontfamily{\NSM}[Renderer=Base]{NotoSansManichaean-Regular.ttf}
% \newcommand{\VSone}{\hbox to 1em{\NSM\XeTeXglyph58\hfil}} % FE00
% \else
% \newcommand{\VSone}{{\fontspec{NotoSansManichaean-Regular.ttf}\XeTeXglyph58}}
%  \fi


\begin{document}

\Huge

%\VSone

ID 16990   {\unifont\XeTeXglyph16990}

ID 21188 1  {\unifont\XeTeXglyph21188}

ID 21242 g {\unifont\XeTeXglyph21242}

ID 21237 b {\unifont\XeTeXglyph21237}

ID 21254 s {\unifont\XeTeXglyph21254}

ID 21238 c {\unifont\XeTeXglyph21238}

ID 21255 t {\unifont\XeTeXglyph21255}

ID 21266 cancel {\unifont\XeTeXglyph21266}

\emojifont

üè¥\Uchar"E0067
\Uchar"E0062
\Uchar"E0073
\Uchar"E0063
\Uchar"E0074
\Uchar"E007F


\end{document}

%%% Local Variables: 
%%% coding: utf-8-unix
%%% TeX-engine: luatex
%%% mode: latex
%%% TeX-command-extra-options: "-shell-escape"
%%% TeX-master: t
%%% TeX-PDF-mode: t
%%% End: 

